---
name: Self-Replicating Robotic Systems
tools: [Python]
image: https://user-images.githubusercontent.com/24211929/170116184-5f5ef498-213a-4ac2-b7c5-38e7c6b45394.gif
description: Test, Evaluation, Verification and Validation of a simulation system, modelled and designed, to determine how an SRRS performs based on its system configuration, attributes, and operating environment.
---

<!-- ![srrs_compressed_cropped](https://user-images.githubusercontent.com/24211929/170116184-5f5ef498-213a-4ac2-b7c5-38e7c6b45394.gif)
 -->

<!-- PROJECT LOGO -->
<br />
<div align="center">


<h3 align="center">Modeling Self-Replicating Robotic Systems</h3>

  <p align="center">
    A simulation system, modelled and designed, to determine how a SRRS performs based on its system configuration, attributes, and operating environment.
    <br />
    <a href="https://github.com/vishalgattani/srrs"><strong>Explore the docs »</strong></a>
    <br />
    <br />

    <a href="https://github.com/vishalgattani/srrs/issues">Report Bug</a>
    ·
    <a href="https://github.com/vishalgattani/srrs/issues">Request Feature</a>
  </p>
</div>

# Table of contents

* TOC
{:toc}

# About the project

The project aims to simulate the performance of 6 different system configurations for self-replicating robot systems (SRRSs). A simulation shall be developed to provide a means to implement, assess and compare these system configurations and to perform trade-off analysis to yield a recommendation of the best course of action (COA) for the user to employ.

For this analysis, the self-replicating robot systems are categorized into 6 categories (system configurations). The simulation is conducted with parameters that may fit a variety of mission constraints in order to inform the decision-makers on how an SRRS should be configured and commanded. 

As launching materials into space can be prohibitively expensive, which may drive a need for utilizing in-situ materials, the primary consumer for this analysis is the aerospace industry with organizations such as National Aeronautics and Space Administration (NASA) and SpaceX. In an aerospace application, a mission might use an SRRS to print a larger structure (such as a habitat), and therefore, a number of 3D print-capable robots would be needed. 

The simulation of different system configurations of the SRRSs will be used to formulate results that shall be utilized as heuristics which shall aid in determining which types of buildable robots or how many such robots shall be built for a particular mission or objective. For instance, the initial resources provided to the system may influence the rate at which different system configurations can expand. The 6 configurations shall be compared against the following metrics; assembly capacity, collection capacity, printing capacity, and the number of robots built.

# System Description



There are four different types of resources that shall be considered in the simulation system. These resource types are as follows:

1.  Non-Printable components: components that the robot system does not have the capability to print (or otherwise make in-situ), such as control units (processors) and motors.
2.  Printable components: components that are fabricated by the robot system during the simulation, such as frames and other structural elements for new robots.
3.  Raw printing materials: materials that are used in the printing process. The printing process would yield the printable component resource type, so the raw material type requires a fabricating step before materials are usable (as components) to build new robots.
4.  The environment also has a certain amount of raw printing material available that robots can collect.

There are five task types in the simulation: three which perform an action (depicted in Figure 1), one which represents a default state indicating that a robot is currently performing no action (idle), and one which represents a robot under failure mode as it undergoes self-repair.

1.  Collect: A task type where the robot gathers raw printing materials from the environment and adds the gathered materials to the robot system’s inventory. Upon completion of this task, raw printing materials are removed from the environment and added to the robot system’s resource pool. 
2.  Print: A task type where the robot takes raw printing materials and fabricates them into printable components. Upon completion of this task, raw printing materials are removed from the robot system’s resource pool, and printable components are added to the robot system’s resource pool. 
3.  Assemble: A task type where the robot takes non-printable components and printable components from the robot system’s resource pool and assembles them into a new robot. This task type has a duration that varies by the robot type being assembled. Upon completion of this task, the newly assembled robot is added to the robot system.
4.  Idle: A default task type that is assigned to any robot not performing any other action during a time step. This task type has no associated duration because it does not have any completion actions/events.
5. Repair: A task type that is assigned to the robot when it encounters a risk in performing a task which results in a failure. The robot is then said to be under repair with the down time being the task duration of the task it failed to perform. The next task that shall be assigned to the robot is the task it failed to perform. If it is unable to do the task it fails to perform, then it may be assigned another task or set to being idle.

There are four types of robots: normal, printer, assembler, and replicator. In each time-step, each robot is either idle, gathering resources, printing components, assembling a new robot or undergoing repair. However, certain robot types are restricted in what types of tasks they can perform as shown in following table.


| Robot Type | Collects Resources | Print Components | Assembles Robots | Undergoes Repair |
| ---------- | ------------------ | ---------------- | ---------------- | ---------------- |
| Normal     | TRUE               | FALSE            | FALSE            | TRUE             |
| Assembler  | TRUE               | FALSE            | TRUE             | TRUE             |
| Printer    | TRUE               | TRUE             | FALSE            | TRUE             |
| Replicator | TRUE               | TRUE             | TRUE             | TRUE             |

The material cost of each robot type is directly related to its capabilities. Capability costs for each included capability are added together to determine the cost of the robot type. For example, the normal robot type cost is just the base cost, while the printer robot type’s cost is calculated by adding the base cost plus the printing capability cost.

| Cost per capability | Non-Printable cost | Printable cost | Build duration cost |
| ------------------- | ------------------ | -------------- | ------------------- |
| Base Cost           | 1                  | 2              | 2                   |
| Printing Capability | 1                  | 2              | 2                   |
| Assembling Capacity | 1                  | 2              | 2                   |

|Cost per Robot|Non-Printable cost|Printable cost|Build duration cost|
|--------------|------------------|--------------|-------------------|
|Replicator    |3                 |6             |6                  |
|Printer       |2                 |4             |4                  |
|Assembler     |2                 |4             |4                  |
|Normal        |1                 |2             |2                  |

The categorization consists of a combination of two separate classifications. The first classification, the replication approach, consists of centralized, decentralized, and hierarchical. The second classification, the production approach, consists of heterogeneous and homogeneous. Table 3 shows which robot types are produced in a certain system configuration.

| Buildable Robot Types | Centralized | Decentralized      | Hierarchical               |
| --------------------- | ----------- | ------------------ | -------------------------- |
| Homogeneous           | Normal      | Replicator         | Replicator, Normal         |
| Heterogeneous         | Normal      | Assembler, Printer | Assembler, Printer, Normal |


| ID | Design Option                     | Characteristics                                                                                                                                                                                                                                               |
| -- | --------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 1  | Centralized homogeneous (CHO)     | One robot is responsible for both printing components and assembling them. Constructed robots are of the normal type and either gather resources or complete other objectives.                                                                                |
| 2  | Decentralized homogeneous (DHO)   | All robots have the capability to print components, assemble them, and gather resources or complete other objectives.                                                                                                                                         |
| 3  | Hierarchical homogeneous (HHO)    | There are a variable number of robots capable of printing components and assembling them. There are also a variable number of normal type robots.                                                                                                          |
| 4  | Centralized heterogeneous (CHE)   | One robot is responsible for printing components, and another (distinct) robot is responsible for assembling them. Constructed robots are of the normal type and either gather resources or complete other objectives.                                        |
| 5  | Decentralized heterogeneous (DHE) | Robots have either the capability to print components or the capability to assemble them. All robots can gather resources or complete other objectives.                                                                                                       |
| 6  | Hierarchical heterogeneous (CHE)  | There are a variable number of robots capable of printing components, a variable number capable of assembling them (distinct from printing group), and a variable number of normal type robots. All robots can gather resources or complete other objectives. |

An important capability of a self-replicating robot system is the ability to fabricate parts and assemble new robots. This introduces the question of the quality of the built robot, as a robot built in-situ may have quality defects (without the ability to simply discard it with minimal impacts, such as in a factory setting). To facilitate assessment, the simulation assigns each robot a build quality. A robot’s build quality value ranges from zero to one, with one being very high quality and zero being very poor quality. The quality value is a decimal value.

There are two types of simulation modes namely Deterministic Mode and Monte-Carlo Mode. The build quality assignment to new robots and the task risks pertaining to failure modes of the robots are calculated in a pre-determined fashion and stochastic fashion for the Deterministic and Monte-Carlo modes respectively.

## Build Quality Assignment

As either an assembler or a replicator can assemble a new robot, the build quality of the robot is primarily attributed to the build quality of the robot assembling the new robot. Therefore, the builder's (assembler or replicator) build quality is 'transferred' to the new robot.

### Deterministic Mode

```python
Robot Quality ← Assembler/Replicator Quality
```

### Monte-Carlo Mode

```python
rand ← random(0, 1)
if rand > (1.0 − Quality_incr_Chance):
  RobotQuality ← AssemblerQuality + random(Quality_incr_Lower, Quality_incr_Upper)
else if rand < Quality_decr_Chance:
  RobotQuality ← AssemblerQuality − random(Quality_decr_Lower, Quality_decr_Upper)
else:
  RobotQuality ← AssemblerQuality
```
## Calculating Task Risk

### Deterministic Mode
The Deterministic Mode is designed in such a way that a robot shall fail to perform a task after a said number of tasks, given by the variable `numTasksBeforeFailure`. The variable `numTasksRemainingBeforeFailure` is initialized to the value of `numTasksBeforeFailure` and it is decremented everytime a robot succesfully performs a task and then when it reaches a value of `0`, the robot encounters a failure and is reverted to the `repair` state and the `numTasksRemainingBeforeFailure` value is reset to `numTasksBeforeFailure` value.

```python
flag = 1
if robot.getNumTasksRemainingBeforeFailure()==0:
    robot.taskFail()
    flag = 0
    repairing(robot)
if flag:
    robot.addOperationalTime(robot.get_task_dur())
    # collecting, assembling, or printing task resource reduction
    robot.taskSuccess()
    robot.reduceNumTasksRemainingBeforeFailure()
```


### Monte-Carlo Mode
The output of the function `taskRisk` is a variable(`riskTask`) with decimal value between `(0,1)` and the `RiskThreshold` variable is used to determine if the robot encounters failure or not. If the value of `riskTask` is greater than `RiskThreshold` then the robot is said to have encountered a failure due to high risk, otherwise it continues to perform its tasks as required.

```python

def taskRisk(robot):
  rand = round(random.uniform(0,1),decimalPlaces)
  if robot.factory == True:
    currTask = robot.get_curr_task()
    if(currTask == "idle"):
        RiskTask_Type = 0
    elif(currTask == "collecting"):
        RiskTask_Type = 1
    elif(currTask == "assembling"):
        RiskTask_Type = 1
    elif(currTask == "printing"):
        RiskTask_Type = 1
    elif(currTask == "repair"):
        RiskTask_Type = 0
    riskTask = (1.0 - robot.get_buid_qual()) * (RiskTask_Type + rand * RiskFactory_Modifier)
  else:
    currTask = robot.get_curr_task()
    if(currTask == "idle"):
        RiskTask_Type = 0
    elif(currTask == "collecting"):
        RiskTask_Type = 1
    elif(currTask == "assembling"):
        RiskTask_Type = 1
    elif(currTask == "printing"):
        RiskTask_Type = 1
    elif(currTask == "repair"):
        RiskTask_Type = 0
    riskTask = (1.0 - robot.get_buid_qual()) * (RiskTask_Type + rand * RiskQuality_Modifier)
  return riskTask
```

# Analysis Metrics

The primary metrics for which data are collected by the simulation include are as follows:
1. Assembly capacity: The number of robots that have the assembly capability at the end of a simulation run. This includes replicator and assembler robot types, which have not succumbed to a task risk and lost their capability. 
2. Collection capacity: The number of robots that have the collect capability at the end of a simulation run. All robot types have this capability in this simulation, so this is always equal to the current number of robots in the system. 
3. Print capacity: The number of robots that have the print capability at the end of a simulation run. This includes replicator and printer robot types, which have not succumbed to a task risk and lost their capability. 
4. The total number of robots built using the system configuration.
5. Mean Time Between Failures (MTBF)
6. Mean Time To Repair (MTTR)
7. Mean Down Time (MDT)
8. Operational Availability (Aoss)
9. The time taken to finish replication i.e., by exhausting Non-Printable materials.
10. Average Build Quality of the entire robot colony.

## RAM Metrics Calculation

In SRRS, the overall system is the robot colony and its components are the individual robots of the colony. From a reliability modeling perspective, a robot colony is clearly a parallel system of N components (robots). We propose that the colony shall be modeled as a k-out-of-N: G system. That is, a system of N parallel elements requires that at least k of these elements are operational (Good) for the overall system to function correctly.

The failure rate and the repair rate is calculated by the following formulae:
```
λsys = [λ1*λ2*...*λn*(μ1+μ2+...+μn)] ÷ (μ1*μ2*...*μn)
μsys = μ1+μ2+...+μn
```
### MTBF
MTBF = Number of operational time steps ÷ Number of failures
MTBFsys = 1 ÷ λsys

### MTTR
MTTR = Number of unplanned maintenance (or) repair time steps ÷ Number of repairs
MTTRsys = 1 ÷ μsys

### MDT
MDT = Total Downtime / Number of Downtime Events
MDTsys = ∑(1 ÷ MDTrobot)

### Operational Availability (Aoss)
Aoss = MTBFsys/ (MTBFsys + MDTsys)

# SRRS Simulation

## Simulation Parameters

| Parameter             | Default value | Description                                                        |
| --------------------- | ------------- | ------------------------------------------------------------------ |
| Number of Steps       | \-            | Number of iterations/time-steps that the simulation goes through.  |
| Initial Non Print     | 300           | The robot system’s starting quantity of nonprintable components.   |
| Initial Print         | 100           | The robot system’s starting quantity of printable components.      |
| Initial Materials     | 50            | The robot system’s starting quantity of raw printing materials.    |
| Env Materials         | 500           | The environment’s quantity of collectable raw printing materials.  |
| BaseCost\_NonPr       | 1             | Base robot cost of nonprintable components.                        |
| PrintCost\_NonPr      | 1             | Print capability cost of nonprintable components.                  |
| AssembleCost\_NonPr   | 1             | Assemble capability cost of nonprintable components.               |
| BaseCost\_Pr          | 2             | Base robot cost of printable components.                           |
| PrintCost\_Pr         | 2             | Print capability cost of printable components.                     |
| AssembleCost\_Pr      | 2             | Assemble capability cost of printable components.                  |
| BaseCost\_Time        | 2             | Base robot cost of build time (in time-steps).                     |
| PrintCost\_Time       | 2             | Print capability cost of build time (in time-steps).               |
| AssembleCost\_Time    | 2             | Assemble capability cost of build time (in time-steps).            |
| Print\_Efficiency     | 1             | Factor that scales raw printing materials to printable components. |
| Print\_Amount         | 1             | Amount of raw materials converted per print task.                  |
| Collect\_Amount       | 1             | Raw printing materials per collecting robot per timestep.          |
| QualityThreshold      | 0.5           | Robots with a quality below this are non-functional.               |
| Quality\_incr\_Chance | 5.00%         | Chance that a new robot’s build quality will increase.             |
| Quality\_incr\_Lower  | 0.01          | Lower bound for quality increase amount.                           |
| Quality\_incr\_Upper  | 0.05          | Upper bound for quality increase amount.                           |
| Quality\_decr\_Chance | 50.00%        | Chance that a new robot’s build quality will decrease.             |
| Quality\_decr\_Lower  | 0.01          | Lower bound for quality decrease amount.                           |
| Quality\_decr\_Upper  | 0.25          | Upper bound for quality decrease amount.                           |
| RiskAmount\_Collect   | 1             | Risk chance for the collect task type.                             |
| RiskAmount\_Assemble  | 1             | Risk chance for the assemble task type.                            |
| RiskAmount\_Print     | 1             | Risk chance for the print task type.                               |
| RiskQuality\_Modifier | 1             | Multiplier for impact of quality defects on risk amount.           |
| RiskFactory\_Modifier | 0.2           | Multiplier for impact of factory-made robots on risk amount.       |
| RiskThreshold         | 0.5           | Risk threshold value to encounter task failure.                    |


***
# SysML BDD

<img src="https://github.com/vishalgattani/srrs/blob/main/sysml/SRRS_BDD.jpg?raw=true">

***
# SysML IBD

<img src="https://github.com/vishalgattani/srrs/blob/main/sysml/IBD%20SRRS.jpg?raw=true">

***
# SysML SMD Replicator
<img src="https://github.com/vishalgattani/srrs/blob/main/sysml/SMDReplicator.jpg?raw=true">

***
# SysML Activity - Rotational Decision Making
<img src="https://github.com/vishalgattani/srrs/blob/main/sysml/Activity%20Replicator%20Rotational.jpg?raw=true">

***
# SysML Activity - APC Decision Making
<img src="https://github.com/vishalgattani/srrs/blob/main/sysml/Activity%20Replicator%20APC.jpg?raw=true">

***
# SysML Activity - Replicator Assembly task
<img src="https://github.com/vishalgattani/srrs/blob/main/sysml/Activity%20Replicator%20-%20Assembling%20Task.jpg?raw=true">

# SysML SMD Assembler
<img src="https://github.com/vishalgattani/srrs/blob/main/sysml/SMDAssembler.jpg?raw=true">

# SysML SMD Printer
<img src="https://github.com/vishalgattani/srrs/blob/main/sysml/SMDPrinter.jpg?raw=true">


# SysML SMD Normal
<img src="https://github.com/vishalgattani/srrs/blob/main/sysml/SMDNormal.jpg?raw=true">

# Output

## Habitat Growth Visualization
The number of Robots 'In-service' and 'Out-of-service' are plotted as results for the different configurations. The report link decribes the intrinsic nature of these 6 different configurations and the analysis performed.

# Deterministic Mode Habitat Growth

<iframe width="900" height="800" frameborder="0" scrolling="no" src="//plotly.com/~vishalgattani/94.embed"></iframe>

## Characteristics Visualization

# Monte-Carlo Mode Habitat Growth

## Characteristics Visualization

# Trade-Off Analysis

## Mission Statements

| Mission ID | Mission Statement/Stakeholder Requirements |
|------------|--------------------------------------------|
| MS1        | Need to finish Replication                 |
| MS2        | Need high Collection capacity              |
| MS3        | Need high Assembling capacity              |
| MS4        | Need high Print capacity                   |
| MS5        | Need high Average build quality            |
| MS6        | Hight MTBF                                 |
| MS7        | Low MTTR                                   |
| MS8        | Low MDT                                    |
| MS9        | High Aoss                                  |
| MS10       | Total Robots                               |

## Mission Statement Rankings
| Mission ID | Mission Statement/Stakeholder Requirements | Non Pr Materials Exhausted (t) | MTBF | MTTR | MDT | Aoss | Collection Capacity | Assembling Capacity | Printing Capacity | Total Robots | Average Build Quality of System | Total |
|------------|--------------------------------------------|--------------------------------|------|------|-----|------|---------------------|---------------------|-------------------|--------------|---------------------------------|-------|
| MS1        | Need to finish Replication                 | 1                              | 8    | 9    | 10  | 2    | 3                   | 4                   | 5                 | 6            | 7                               | 55    |
| MS2        | Need high Collection capacity              | 10                             | 7    | 8    | 9   | 6    | 1                   | 2                   | 3                 | 5            | 4                               | 55    |
| MS3        | Need high Assembling capacity              | 10                             | 7    | 8    | 9   | 6    | 3                   | 1                   | 2                 | 5            | 4                               | 55    |
| MS4        | Need high Print capacity                   | 10                             | 7    | 8    | 9   | 6    | 3                   | 2                   | 1                 | 5            | 4                               | 55    |
| MS5        | Need high Average build quality            | 10                             | 7    | 8    | 9   | 2    | 3                   | 4                   | 5                 | 6            | 1                               | 55    |
| MS6        | Hight MTBF                                 | 10                             | 1    | 3    | 4   | 2    | 7                   | 8                   | 9                 | 5            | 6                               | 55    |
| MS7        | Low MTTR                                   | 10                             | 3    | 1    | 4   | 2    | 7                   | 8                   | 9                 | 5            | 6                               | 55    |
| MS8        | Low MDT                                    | 10                             | 3    | 4    | 1   | 2    | 7                   | 8                   | 9                 | 5            | 6                               | 55    |
| MS9        | High Aoss                                  | 10                             | 2    | 3    | 4   | 1    | 7                   | 8                   | 9                 | 5            | 6                               | 55    |
| MS10       | Total Robots                               | 10                             | 7    | 8    | 9   | 6    | 3                   | 4                   | 5                 | 1            | 2                               | 55    |


## Mission Statement Ranks according to Rank-Order Distribution of attributes
| Mission ID | Mission Statement/Stakeholder Requirements | Non Pr Materials Exhausted (t) | MTBF   | MTTR   | MDT    | Aoss  | Collection Capacity | Assembling Capacity | Printing Capacity | Total Robots | Average Build Quality of System | Total  |
|------------|--------------------------------------------|--------------------------------|--------|--------|--------|-------|---------------------|---------------------|-------------------|--------------|---------------------------------|--------|
| MS1        | Need to finish Replication                 | 0.1867                         | 0.0527 | 0.0349 | 0.0172 | 0.167 | 0.147               | 0.1270              | 0.1080            | 0.0893       | 0.0709                          | 1.0000 |
| MS2        | Need high Collection capacity              | 0.0172                         | 0.0709 | 0.0527 | 0.0349 | 0.089 | 0.187               | 0.1667              | 0.1466            | 0.1080       | 0.1270                          | 1.0000 |
| MS3        | Need high Assembling capacity              | 0.0172                         | 0.0709 | 0.0527 | 0.0349 | 0.089 | 0.147               | 0.1867              | 0.1667            | 0.1080       | 0.1270                          | 1.0000 |
| MS4        | Need high Print capacity                   | 0.0172                         | 0.0709 | 0.0527 | 0.0349 | 0.089 | 0.147               | 0.1667              | 0.1867            | 0.1080       | 0.1270                          | 1.0000 |
| MS5        | Need high Average build quality            | 0.0172                         | 0.0709 | 0.0527 | 0.0349 | 0.167 | 0.147               | 0.1270              | 0.1080            | 0.0893       | 0.1867                          | 1.0000 |
| MS6        | Hight MTBF                                 | 0.0172                         | 0.1867 | 0.1466 | 0.1270 | 0.167 | 0.071               | 0.0527              | 0.0349            | 0.1080       | 0.0893                          | 1.0000 |
| MS7        | Low MTTR                                   | 0.0172                         | 0.1466 | 0.1867 | 0.1270 | 0.167 | 0.071               | 0.0527              | 0.0349            | 0.1080       | 0.0893                          | 1.0000 |
| MS8        | Low MDT                                    | 0.0172                         | 0.1466 | 0.1270 | 0.1867 | 0.167 | 0.071               | 0.0527              | 0.0349            | 0.1080       | 0.0893                          | 1.0000 |
| MS9        | High Aoss                                  | 0.0172                         | 0.1667 | 0.1466 | 0.1270 | 0.187 | 0.071               | 0.0527              | 0.0349            | 0.1080       | 0.0893                          | 1.0000 |
| MS10       | Total Robots                               | 0.0172                         | 0.0709 | 0.0527 | 0.0349 | 0.089 | 0.147               | 0.1270              | 0.1080            | 0.1867       | 0.1667                          | 1.0000 |

# References
- Jones, A., & Straub, J. (2021). Simulation and Analysis of Self-Replicating Robot Decision-Making Systems. Computers, 10(1), 9. [https://doi.org/10.3390/computers10010009](https://doi.org/10.3390/computers10010009)
- Jones A, Straub J. Concepts for 3D Printing-Based Self-Replicating Robot Command and Coordination Techniques. Machines. 2017; 5(2):12. [https://doi.org/10.3390/machines5020012](https://doi.org/10.3390/machines5020012)







